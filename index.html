<!DOCTYPE html>
<html lang="ko">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>텍스트 → 이미지 변환기</title>
 <script src="https:<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Toggle Content</title>
 <style>
 details {
 margin-bottom: 10px;
 }
 summary {
 cursor: pointer;
 font-size: 0.85em;
 }
 </style>
</head>
<body>

<details>
 <summary>cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
 <script src="https://cdn.jsdelivr.net/npm/@jaames/iro@5"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
 <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
 <style>
 /* ===== 폰트 설정 ===== */
 @font-face {
 font-family: '부크크명조';
 src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2302@1.0/BookkMyungjo-Bd.woff2') format('woff2');
 font-weight: 700;
 font-style: normal;
 }
 @font-face {
 font-family: '조선일보명조';
 src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_one@1.0/Chosunilbo_myungjo.woff') format('woff');
 font-weight: normal;
 font-style: normal;
 }
 @font-face {
 font-family: '조선가는고딕';
 src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_20-04@1.0/ChosunSg.woff') format('woff');
 font-weight: normal;
 font-style: normal;
 }
 @font-face {
 font-family: '경기천년바탕';
 src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/2410-3@1.0/Batang_Regular.woff') format('woff');
 font-weight: 400;
 font-style: normal;
 }
 @font-face {
 font-family: '수트';
 src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_suit@1.0/SUIT-Regular.woff2') format('woff2');
 font-weight: normal;
 font-style: normal;
 }
 @font-face {
 font-family: '리디바탕';
 src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_twelve@1.0/RIDIBatang.woff') format('woff');
 font-weight: normal;
 font-style: normal;
 }
 @font-face {
 font-family: '조선굴림체';
 src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_20-04@1.0/ChosunGu.woff') format('woff');
 font-weight: normal;
 font-style: normal;
 }

 /* ===== 테마 변수 ===== */
 :root {
 --bg-color: #f8f9fa;
 --text-color: #343a40;
 --card-bg: white;
 --card-shadow: 0 4px 12px rgba(0,0,0,0.08);
 --border-color: #e9ecef;
 --primary-color: #4361ee;
 --primary-hover: #3a56d4;
 --tab-color: #e9ecef;
 --accent-color: #4895ef;
 --success-color: #4cc9f0;
 --danger-color: #f72585;
 --warning-color: #ffd166;
 --info-color: #0077b6;
 --header-gradient: linear-gradient(135deg, #4361ee, #3a0ca3);
 --preset-gradient: linear-gradient(135deg, #4cc9f0, #4361ee);
 }

 [data-theme="dark"] {
 --bg-color: #121212;
 --text-color: #e0e0e0;
 --card-bg: #1e1e1e;
 --card-shadow: 0 4px 12px rgba(0,0,0,0.3);
 --border-color: #333;
 --primary-color: #4895ef;
 --primary-hover: #4cc9f0;
 --tab-color: #333;
 --accent-color: #4361ee;
 --success-color: #0096c7;
 --danger-color: #f72585;
 --warning-color: #ffd166;
 --info-color: #0077b6;
 --header-gradient: linear-gradient(135deg, #3a0ca3, #4361ee);
 --preset-gradient: linear-gradient(135deg, #4361ee, #4cc9f0);
 }

 /* ===== 기본 스타일 ===== */
 * {
 box-sizing: border-box;
 margin: 0;
 padding: 0;
 }

 body {
 font-family: 'Noto Sans KR', sans-serif;
 background-color: var(--bg-color);
 color: var(--text-color);
 max-width: 1200px;
 margin: 0 auto;
 padding: 20px;
 transition: background-color 0.3s, color 0.3s;
 line-height: 1.6;
 }

 h1, h2, h3, h4 {
 color: var(--text-color);
 margin-bottom: 1rem;
 font-weight: 600;
 }

 h1 {
 font-size: 2rem;
 margin-bottom: 1.5rem;
 background: var(--header-gradient);
 -webkit-background-clip: text;
 background-clip: text;
 color: transparent;
 display: inline-block;
 }

 /* ===== 레이아웃 컨테이너 ===== */
 .container {
 display: flex;
 flex-direction: column;
 gap: 20px;
 }

 /* ===== 탭 네비게이션 ===== */
 .main-tabs {
 display: flex;
 background-color: var(--card-bg);
 border-radius: 8px;
 overflow: hidden;
 box-shadow: var(--card-shadow);
 margin-bottom: 20px;
 }

 .main-tab {
 flex: 1;
 padding: 15px;
 text-align: center;
 cursor: pointer;
 transition: all 0.3s;
 border: none;
 background: none;
 color: var(--text-color);
 font-weight: 600;
 font-size: 1rem;
 position: relative;
 }

 .main-tab:hover {
 background-color: rgba(67, 97, 238, 0.1);
 }

 .main-tab.active {
 color: var(--primary-color);
 }

 .main-tab.active::after {
 content: '';
 position: absolute;
 bottom: 0;
 left: 0;
 width: 100%;
 height: 3px;
 background-color: var(--primary-color);
 }

 .tab-content {
 display: none;
 }

 .tab-content.active {
 display: block;
 animation: fadeIn 0.3s ease-in-out;
 }

 @keyframes fadeIn {
 from { opacity: 0; transform: translateY(10px); }
 to { opacity: 1; transform: translateY(0); }
 }

 /* ===== 컨트롤 그룹 ===== */
 .controls {
 display: flex;
 flex-wrap: wrap;
 gap: 20px;
 justify-content: center;
 }

 .control-group {
 background: var(--card-bg);
 padding: 20px;
 border-radius: 12px;
 box-shadow: var(--card-shadow);
 width: 100%;
 max-width: 450px;
 }

 .control-group h3 {
 margin-top: 0;
 padding-bottom: 10px;
 border-bottom: 1px solid var(--border-color);
 font-size: 1.2rem;
 }

 /* ===== 프리셋 버튼 ===== */
 .preset-buttons {
 display: grid;
 grid-template-columns: repeat(3, 1fr);
 gap: 10px;
 margin: 15px 0;
 }

 .preset-button {
 background: var(--preset-gradient);
 color: white;
 border: none;
 padding: 12px;
 border-radius: 8px;
 cursor: pointer;
 font-weight: 600;
 transition: transform 0.2s, box-shadow 0.2s;
 box-shadow: 0 2px 5px rgba(0,0,0,0.1);
 }

 .preset-button:hover {
 transform: translateY(-2px);
 box-shadow: 0 4px 8px rgba(0,0,0,0.15);
 }

 .preset-button.empty {
 background: #e9ecef;
 color: #868e96;
 }

 .preset-button.active {
 position: relative;
 box-shadow: 0 0 0 2px var(--primary-color), 0 4px 8px rgba(0,0,0,0.15);
 }

 .preset-button.active::after {
 content: '✓';
 position: absolute;
 top: -5px;
 right: -5px;
 background: var(--success-color);
 color: white;
 width: 20px;
 height: 20px;
 border-radius: 50%;
 display: flex;
 align-items: center;
 justify-content: center;
 font-size: 12px;
 }

 /* ===== 프리셋 관리 ===== */
 .preset-manager {
 display: flex;
 flex-direction: column;
 gap: 15px;
 }

 .preset-card {
 background: var(--card-bg);
 border: 1px solid var(--border-color);
 border-radius: 8px;
 padding: 15px;
 display: flex;
 justify-content: space-between;
 align-items: center;
 }

 .preset-card-title {
 font-weight: 600;
 }

 .preset-card-actions {
 display: flex;
 gap: 10px;
 }

 .preset-action-btn {
 background: none;
 border: none;
 cursor: pointer;
 font-size: 1rem;
 color: var(--text-color);
 transition: color 0.2s;
 }

 .preset-action-btn:hover {
 color: var(--primary-color);
 }

 .preset-action-btn.delete:hover {
 color: var(--danger-color);
 }

 /* ===== 색상 선택기 ===== */
 .color-picker-container {
 margin: 0 auto;
 width: 200px;
 }

 /* ===== 입력 필드 ===== */
 textarea {
 width: 100%;
 height: 200px;
 padding: 15px;
 border: 1px solid var(--border-color);
 border-radius: 8px;
 font-family: inherit;
 font-size: 16px;
 resize: vertical;
 background-color: var(--card-bg);
 color: var(--text-color);
 overflow: auto;
 box-sizing: border-box;
 transition: border-color 0.3s;
 }

 textarea:focus {
 outline: none;
 border-color: var(--primary-color);
 box-shadow: 0 0 0 2px rgba(67, 97, 238, 0.2);
 }

 /* ===== 이미지 옵션 ===== */
 .image-options {
 display: flex;
 flex-direction: column;
 gap: 10px;
 }

 /* ===== 미리보기 컨테이너 ===== */
 .preview-container {
 position: relative;
 width: 100%;
 max-width: 600px;
 margin: 0 auto;
 overflow: hidden;
 }

 .slider-container {
 display: flex;
 overflow-x: hidden;
 scroll-behavior: smooth;
 width: 100%;
 position: relative;
 }

 .slider-controls {
 display: flex;
 justify-content: space-between;
 width: 100%;
 position: absolute;
 top: 50%;
 transform: translateY(-50%);
 z-index: 10;
 }

 .slider-arrow {
 background-color: rgba(0,0,0,0.3);
 color: white;
 border: none;
 border-radius: 50%;
 width: 40px;
 height: 40px;
 display: flex;
 justify-content: center;
 align-items: center;
 cursor: pointer;
 font-size: 18px;
 transition: background-color 0.2s;
 }

 .slider-arrow:hover {
 background-color: rgba(0,0,0,0.5);
 }

 .slider-dots {
 display: flex;
 justify-content: center;
 gap: 8px;
 margin-top: 15px;
 }

 .slider-dot {
 width: 10px;
 height: 10px;
 background-color: var(--border-color);
 border-radius: 50%;
 cursor: pointer;
 transition: transform 0.2s, background-color 0.2s;
 }

 .slider-dot:hover {
 transform: scale(1.2);
 }

 .slider-dot.active {
 background-color: var(--primary-color);
 transform: scale(1.2);
 }

 .output-container {
 flex: 0 0 100%;
 scroll-snap-align: start;
 position: relative;
 }

 .image-preview {
 width: 100%;
 aspect-ratio: 9/16;
 position: relative;
 overflow: hidden;
 box-shadow: var(--card-shadow);
 display: flex;
 justify-content: center;
 align-items: center;
 border-radius: 12px;
 }

 .text-box {
 background-color: white;
 width: 80%;
 height: auto;
 margin: 0 auto;
 padding: 30px 40px;
 box-shadow: 0 2px 10px rgba(0,0,0,0.1);
 position: relative;
 z-index: 2;
 font-family: '부크크명조', serif;
 }

 .preview-text {
 font-size: 16px;
 line-height: 1.8;
 text-align: left;
 word-break: keep-all;
 overflow-wrap: break-word;
 }

 .preview-text em {
 font-style: italic;
 }

 .preview-text strong {
 font-weight: bold;
 }

 .preview-text del {
 text-decoration: line-through;
 }

 .header-image {
 position: absolute;
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
 object-fit: cover;
 z-index: 1;
 }

 /* ===== 버튼 스타일 ===== */
 .button {
 background-color: var(--primary-color);
 color: white;
 border: none;
 padding: 12px 24px;
 border-radius: 8px;
 cursor: pointer;
 font-size: 16px;
 font-weight: 600;
 transition: all 0.3s;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 gap: 8px;
 box-shadow: 0 2px 5px rgba(0,0,0,0.1);
 }

 .button:hover {
 background-color: var(--primary-hover);
 transform: translateY(-2px);
 box-shadow: 0 4px 8px rgba(0,0,0,0.15);
 }

 .button:active {
 transform: translateY(0);
 }

 .button-secondary {
 background-color: var(--border-color);
 color: var(--text-color);
 }

 .button-secondary:hover {
 background-color: #d0d0d0;
 }

 /* ===== 탭 버튼 ===== */
 .tab-buttons {
 display: flex;
 gap: 5px;
 margin-bottom: 15px;
 border-bottom: 1px solid var(--border-color);
 }

 .tab-button {
 padding: 10px 20px;
 border: none;
 background-color: transparent;
 cursor: pointer;
 border-radius: 8px 8px 0 0;
 color: var(--text-color);
 font-weight: 500;
 transition: all 0.2s;
 position: relative;
 bottom: -1px;
 }

 .tab-button:hover {
 background-color: rgba(67, 97, 238, 0.1);
 }

 .tab-button.active {
 color: var(--primary-color);
 border-bottom: 2px solid var(--primary-color);
 font-weight: 600;
 }

 /* ===== 파일 입력 ===== */
 .file-input {
 display: none;
 }

 .file-label {
 background-color: var(--card-bg);
 border: 1px dashed var(--border-color);
 padding: 15px;
 border-radius: 8px;
 cursor: pointer;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 color: var(--text-color);
 transition: all 0.2s;
 gap: 10px;
 min-height: 120px;
 }

 .file-label:hover {
 border-color: var(--primary-color);
 background-color: rgba(67, 97, 238, 0.05);
 }

 .file-label i {
 font-size: 2rem;
 color: var(--primary-color);
 }

 #imagePreview {
 width: 100%;
 max-height: 150px;
 object-fit: cover;
 margin-top: 15px;
 display: none;
 border-radius: 8px;
 box-shadow: var(--card-shadow);
 }

 /* ===== 테마 스위치 ===== */
 .theme-switch {
 position: fixed;
 top: 20px;
 right: 20px;
 width: 45px;
 height: 45px;
 border-radius: 50%;
 background-color: var(--card-bg);
 display: flex;
 justify-content: center;
 align-items: center;
 cursor: pointer;
 box-shadow: var(--card-shadow);
 z-index: 1000;
 transition: all 0.3s;
 }

 .theme-switch:hover {
 transform: rotate(30deg);
 }

 .theme-icon {
 font-size: 20px;
 color: var(--text-color);
 }

 /* ===== 설정 그룹 ===== */
 .bg-settings-container {
 display: flex;
 flex-direction: row;
 flex-wrap: wrap;
 gap: 15px;
 }

 .bg-column {
 flex: 1;
 min-width: 200px;
 }

 /* ===== 폼 요소 ===== */
 select, input[type="color"], input[type="text"], input[type="number"] {
 background-color: var(--card-bg);
 color: var(--text-color);
 border: 1px solid var(--border-color);
 padding: 10px;
 border-radius: 8px;
 font-size: 14px;
 transition: border-color 0.2s, box-shadow 0.2s;
 width: 100%;
 }

 select:focus, input[type="color"]:focus, input[type="text"]:focus, input[type="number"]:focus {
 outline: none;
 border-color: var(--primary-color);
 box-shadow: 0 0 0 2px rgba(67, 97, 238, 0.2);
 }

 input[type="range"] {
 width: 100%;
 -webkit-appearance: none;
 height: 6px;
 border-radius: 3px;
 background: var(--border-color);
 outline: none;
 }

 input[type="range"]::-webkit-slider-thumb {
 -webkit-appearance: none;
 appearance: none;
 width: 18px;
 height: 18px;
 border-radius: 50%;
 background: var(--primary-color);
 cursor: pointer;
 transition: all 0.2s;
 }

 input[type="range"]::-webkit-slider-thumb:hover {
 transform: scale(1.2);
 }

 /* ===== 설정 그룹 ===== */
 .setting-group {
 margin-bottom: 20px;
 border-bottom: 1px solid var(--border-color);
 padding-bottom: 20px;
 }

 .setting-group:last-child {
 border-bottom: none;
 margin-bottom: 0;
 }

 .setting-group h4 {
 font-size: 1rem;
 margin-bottom: 15px;
 color: var(--primary-color);
 }

 .setting-row {
 display: flex;
 justify-content: space-between;
 align-items: center;
 margin-bottom: 15px;
 }

 .setting-label {
 flex: 1;
 text-align: left;
 font-weight: 500;
 }

 .setting-control {
 flex: 1.5;
 }

 .setting-value {
 display: inline-block;
 min-width: 40px;
 text-align: right;
 font-size: 14px;
 color: var(--accent-color);
 font-weight: 600;
 }

 /* ===== 알림 메시지 ===== */
 .notification {
 position: fixed;
 bottom: 20px;
 right: 20px;
 padding: 15px 20px;
 border-radius: 8px;
 background-color: var(--primary-color);
 color: white;
 box-shadow: 0 4px 12px rgba(0,0,0,0.15);
 z-index: 1000;
 opacity: 0;
 transform: translateY(20px);
 transition: all 0.3s;
 max-width: 300px;
 }

 .notification.show {
 opacity: 1;
 transform: translateY(0);
 }

 .notification.success {
 background-color: var(--success-color);
 }

 .notification.error {
 background-color: var(--danger-color);
 }

 /* ===== 반응형 스타일 ===== */
 @media (max-width: 768px) {
 .control-group {
 max-width: 100%;
 }

 .text-box {
 width: 85%;
 padding: 20px 25px;
 }

 .preview-text {
 font-size: 14px;
 }

 .bg-column {
 flex: 100%;
 }

 .setting-row {
 flex-direction: column;
 align-items: flex-start;
 gap: 8px;
 }

 .setting-control {
 width: 100%;
 }

 .preset-buttons {
 grid-template-columns: repeat(2, 1fr);
 }

 .main-tab {
 padding: 12px 8px;
 font-size: 0.9rem;
 }
 }
 </style>
</head>
<body>
 <div class="theme-switch" id="themeSwitch">
 <span class="theme-icon" id="themeIcon">
 <i class="fas fa-moon"></i>
 </span>
 </div>

 <h1>텍스트 → 이미지 변환기</h1>

 <!-- 메인 탭 네비게이션 -->
 <div class="main-tabs">
 <button class="main-tab active" data-tab="tab1">
 <i class="fas fa-pen-to-square"></i> 텍스트 & 배경
 </button>
 <button class="main-tab" data-tab="tab2">
 <i class="fas fa-palette"></i> 스타일 설정
 </button>
 <button class="main-tab" data-tab="tab3">
 <i class="fas fa-sliders"></i> 프리셋 관리
 </button>
 </div>

 <div class="container">
 <!-- 탭 1: 텍스트 입력 & 배경 설정 & 프리셋 선택 -->
 <div id="tab1" class="tab-content active">
 <div class="controls">
 <!-- 텍스트 입력 그룹 -->
 <div class="control-group">
 <h3>텍스트 입력</h3>
 <textarea id="userText" placeholder="이미지로 변환할 텍스트를 입력하세요. **볼드체**, *이탤릭체*, ~~취소선~~ 마크다운 문법을 지원합니다."></textarea>
 <div style="margin-top: 15px; display: flex; justify-content: space-between; align-items: center;">
 <div>
 <label for="pageLength">페이지당 글자 수 (대략): </label>
 <input type="number" id="pageLength" value="300" min="50" max="1000">
 </div>
 </div>
 </div>

 <!-- 배경 설정 그룹 -->
 <div class="control-group">
 <h3>배경 설정</h3>
 <div class="tab-buttons">
 <button id="colorTab" class="tab-button active">단색 배경</button>
 <button id="imageTab" class="tab-button">이미지 배경</button>
 </div>

 <div class="bg-settings-container">
 <!-- 단색 배경 설정 -->
 <div id="colorBgOptions" class="bg-column">
 <div class="color-picker-container">
 <div id="colorPicker"></div>
 </div>
 <div style="margin-top: 15px; text-align: center;">
 <input type="text" id="hexColor" value="#FFDD00" style="width: 120px; text-align: center;">
 </div>
 </div>

 <!-- 이미지 배경 설정 -->
 <div id="imageBgOptions" class="bg-column" style="display:none;">
 <label for="headerImage" class="file-label">
 <i class="fas fa-cloud-upload-alt"></i>
 <span>이미지 파일 선택</span>
 <small>JPG, PNG 파일 지원</small>
 </label>
 <input type="file" id="headerImage" class="file-input" accept="image/*">
 <img id="imagePreview" src="#" alt="이미지 미리보기">
 </div>
 </div>
 </div>

 <!-- 프리셋 선택 그룹 -->
 <div class="control-group">
 <h3>프리셋 선택</h3>
 <div class="preset-buttons" id="presetButtonsContainer">
 <!-- 프리셋 버튼들이 자바스크립트로 생성됩니다 -->
 </div>
 <div style="text-align: center; margin-top: 15px;">
 <button id="savePresetBtn" class="button">
 <i class="fas fa-save"></i> 현재 설정 저장
 </button>
 </div>
 </div>
 </div>

 <!-- 이미지 생성 버튼 -->
 <div style="text-align: center; margin-top: 20px;">
 <button id="generateBtn" class="button">
 <i class="fas fa-image"></i> 이미지 생성
 </button>
 </div>
 </div>

 <!-- 탭 2: 텍스트 스타일 설정 -->
 <div id="tab2" class="tab-content">
 <div class="controls">
 <!-- 텍스트 스타일 설정 그룹 -->
 <div class="control-group">
 <h3>폰트 설정</h3>

 <!-- 폰트 설정 -->
 <div class="setting-group">
 <div class="setting-row">
 <div class="setting-label">글꼴</div>
 <div class="setting-control">
 <select id="fontSelect">
 <option value="부크크명조">부크크명조</option>
 <option value="조선일보명조">조선일보명조</option>
 <option value="조선가는고딕">조선가는고딕</option>
 <option value="경기천년바탕">경기천년바탕</option>
 <option value="수트">수트</option>
 <option value="리디바탕">리디바탕</option>
 <option value="조선굴림체">조선굴림체</option>
 </select>
 </div>
 </div>
 <div class="setting-row">
 <div class="setting-label">글자 크기</div>
 <div class="setting-control">
 <input type="range" id="fontSize" min="12" max="24" value="16">
 <span id="fontSizeValue" class="setting-value">16px</span>
 </div>
 </div>
 </div>
 </div>

 <div class="control-group">
 <h3>텍스트 스타일</h3>
 <!-- 텍스트 스타일 -->
 <div class="setting-group">
 <div class="setting-row">
 <div class="setting-label">텍스트 색상</div>
 <div class="setting-control">
 <input type="color" id="textColor" value="#000000">
 </div>
 </div>
 <div class="setting-row">
 <div class="setting-label">줄 간격</div>
 <div class="setting-control">
 <input type="range" id="lineHeight" min="1.2" max="2.5" step="0.1" value="1.8">
 <span id="lineHeightValue" class="setting-value">1.8</span>
 </div>
 </div>
 <div class="setting-row">
 <div class="setting-label">자간</div>
 <div class="setting-control">
 <input type="range" id="letterSpacing" min="-0.1" max="0.3" step="0.01" value="0">
 <span id="letterSpacingValue" class="setting-value">0</span>
 </div>
 </div>
 <div class="setting-row">
 <div class="setting-label">텍스트 정렬</div>
 <div class="setting-control">
 <select id="textAlign">
 <option value="left">왼쪽 정렬</option>
 <option value="center">가운데 정렬</option>
 <option value="right">오른쪽 정렬</option>
 <option value="justify">양쪽 정렬</option>
 </select>
 </div>
 </div>
 </div>
 </div>

 <div class="control-group">
 <h3>텍스트 박스 설정</h3>
 <!-- 텍스트 박스 설정 -->
 <div class="setting-group">
 <div class="setting-row">
 <div class="setting-label">박스 배경색</div>
 <div class="setting-control">
 <input type="color" id="boxBgColor" value="#FFFFFF">
 </div>
 </div>
 <div class="setting-row">
 <div class="setting-label">박스 투명도</div>
 <div class="setting-control">
 <input type="range" id="boxOpacity" min="0" max="1" step="0.1" value="1">
 <span id="boxOpacityValue" class="setting-value">1</span>
 </div>
 </div>
 <div class="setting-row">
 <div class="setting-label">박스 너비 (%)</div>
 <div class="setting-control">
 <input type="range" id="boxWidth" min="50" max="95" value="80">
 <span id="boxWidthValue" class="setting-value">80%</span>
 </div>
 </div>
 <div class="setting-row">
 <div class="setting-label">패딩 (px)</div>
 <div class="setting-control">
 <input type="range" id="boxPadding" min="10" max="60" value="30">
 <span id="boxPaddingValue" class="setting-value">30px</span>
 </div>
 </div>
 </div>
 </div>
 </div>
 </div>

 <!-- 탭 3: 프리셋 관리 -->
 <div id="tab3" class="tab-content">
 <div class="control-group" style="max-width: 100%;">
 <h3>프리셋 관리</h3>
 <div class="preset-manager" id="presetManager">
 <!-- 프리셋 카드들이 자바스크립트로 생성됩니다 -->
 </div>
 <div style="text-align: center; margin-top: 20px;">
 <p>최대 6개의 프리셋을 저장할 수 있습니다.</p>
 <button id="createNewPresetBtn" class="button" style="margin-top: 15px;">
 <i class="fas fa-plus"></i> 새 프리셋 만들기
 </button>
 </div>
 </div>
 </div>

 <!-- 미리보기 컨테이너 -->
 <div class="preview-container" id="previewContainer">
 <!-- 여기에 미리보기 이미지가 슬라이더로 표시됩니다 -->
 </div>
 </div>

 <!-- 알림 메시지 -->
 <div class="notification" id="notification"></div>

 <script>
 /**
 * ===== 전역 변수 설정 =====
 */
 let colorPicker;
 let selectedBgType = 'color';
 let headerImageUrl = null;
 let currentSlide = 0;
 let totalSlides = 0;
 let isDarkMode = false;
 let activePresetId = null;

 // 마크다운 설정
 marked.setOptions({
 breaks: true,
 gfm: true
 });

 /**
 * ===== 페이지 초기화 =====
 */
 document.addEventListener('DOMContentLoaded', function() {
 initColorPicker();
 setupEventListeners();
 checkPreferredTheme();
 updateSettingValues();
 loadPresets();
 renderPresetButtons();
 renderPresetManager();
 });

 /**
 * ===== 설정값 표시 업데이트 =====
 */
 function updateSettingValues() {
 // 폰트 크기
 document.getElementById('fontSize').addEventListener('input', function() {
 document.getElementById('fontSizeValue').textContent = this.value + 'px';
 });

 // 줄 간격
 document.getElementById('lineHeight').addEventListener('input', function() {
 document.getElementById('lineHeightValue').textContent = this.value;
 });

 // 자간
 document.getElementById('letterSpacing').addEventListener('input', function() {
 document.getElementById('letterSpacingValue').textContent = this.value + 'em';
 });

 // 박스 투명도
 document.getElementById('boxOpacity').addEventListener('input', function() {
 document.getElementById('boxOpacityValue').textContent = this.value;
 });

 // 박스 너비
 document.getElementById('boxWidth').addEventListener('input', function() {
 document.getElementById('boxWidthValue').textContent = this.value + '%';
 });

 // 패딩
 document.getElementById('boxPadding').addEventListener('input', function() {
 document.getElementById('boxPaddingValue').textContent = this.value + 'px';
 });
 }

 /**
 * ===== 테마 관련 함수 =====
 */
 // 사용자 테마 설정 확인
 function checkPreferredTheme() {
 if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
 toggleDarkMode();
 }
 }

 // 다크모드 토글
 function toggleDarkMode() {
 isDarkMode = !isDarkMode;
 document.body.setAttribute('data-theme', isDarkMode ? 'dark' : 'light');

 const themeIcon = document.getElementById('themeIcon');
 themeIcon.innerHTML = isDarkMode
 ? '<i class="fas fa-sun"></i>'
 : '<i class="fas fa-moon"></i>';

 // 색상 선택기 재초기화
 if (colorPicker) {
 const color = colorPicker.color.hexString;
 initColorPicker(color);
 }
 }

 /**
 * ===== 색상 선택기 초기화 =====
 */
 function initColorPicker(initialColor = "#FFDD00") {
 const colorPickerElement = document.getElementById('colorPicker');
 if (colorPickerElement.firstChild) {
 colorPickerElement.innerHTML = '';
 }

 colorPicker = new iro.ColorPicker("#colorPicker", {
 width: 180,
 color: initialColor,
 borderWidth: 1,
 borderColor: isDarkMode ? "#444" : "#ccc",
 layout: [
 { component: iro.ui.Wheel }
 ]
 });

 // 색상 변경 시 이벤트
 colorPicker.on('color:change', function(color) {
 document.getElementById('hexColor').value = color.hexString;
 });

 // 헥스 입력 변경 시 이벤트
 document.getElementById('hexColor').addEventListener('input', function() {
 colorPicker.color.hexString = this.value;
 });
 }

 /**
 * ===== 이벤트 리스너 설정 =====
 */
 function setupEventListeners() {
 // 메인 탭 전환 이벤트
 const mainTabs = document.querySelectorAll('.main-tab');
 mainTabs.forEach(tab => {
 tab.addEventListener('click', function() {
 const tabId = this.getAttribute('data-tab');

 // 활성 탭 변경
 mainTabs.forEach(t => t.classList.remove('active'));
 this.classList.add('active');

 // 탭 콘텐츠 변경
 document.querySelectorAll('.tab-content').forEach(content => {
 content.classList.remove('active');
 });
 document.getElementById(tabId).classList.add('active');
 });
 });

 // 배경 탭 전환 이벤트
 document.getElementById('colorTab').addEventListener('click', function() {
 toggleBgTab('color');
 });

 document.getElementById('imageTab').addEventListener('click', function() {
 toggleBgTab('image');
 });

 // 이미지 파일 선택 이벤트
 document.getElementById('headerImage').addEventListener('change', function(e) {
 if (e.target.files && e.target.files[0]) {
 const reader = new FileReader();

 reader.onload = function(event) {
 headerImageUrl = event.target.result;
 const preview = document.getElementById('imagePreview');
 preview.src = headerImageUrl;
 preview.style.display = 'block';
 };

 reader.readAsDataURL(e.target.files[0]);
 }
 });

 // 이미지 생성 버튼 이벤트
 document.getElementById('generateBtn').addEventListener('click', generateImages);

 // 다크모드 토글 이벤트
 document.getElementById('themeSwitch').addEventListener('click', toggleDarkMode);

 // 프리셋 저장 버튼 이벤트
 document.getElementById('savePresetBtn').addEventListener('click', showSavePresetDialog);

 // 새 프리셋 만들기 버튼 이벤트
 document.getElementById('createNewPresetBtn').addEventListener('click', showSavePresetDialog);
 }

 /**
 * ===== 배경 탭 전환 함수 =====
 */
 function toggleBgTab(tabType) {
 selectedBgType = tabType;

 if (tabType === 'color') {
 document.getElementById('colorTab').classList.add('active');
 document.getElementById('imageTab').classList.remove('active');
 document.getElementById('colorBgOptions').style.display = 'block';
 document.getElementById('imageBgOptions').style.display = 'none';
 } else {
 document.getElementById('colorTab').classList.remove('active');
 document.getElementById('imageTab').classList.add('active');
 document.getElementById('colorBgOptions').style.display = 'none';
 document.getElementById('imageBgOptions').style.display = 'block';
 }
 }

 /**
 * ===== 프리셋 관련 함수 =====
 */
 // 프리셋 로드
 function loadPresets() {
 try {
 const presetsJson = localStorage.getItem('textToImagePresets');
 return presetsJson ? JSON.parse(presetsJson) : [];
 } catch (error) {
 console.error('프리셋 로드 오류:', error);
 return [];
 }
 }

 // 프리셋 저장
 function savePresets(presets) {
 try {
 localStorage.setItem('textToImagePresets', JSON.stringify(presets));
 } catch (error) {
 console.error('프리셋 저장 오류:', error);
 showNotification('프리셋 저장에 실패했습니다.', 'error');
 }
 }

 // 현재 설정 가져오기
 function getCurrentSettings() {
 return {
 id: Date.now().toString(),
 name: '',
 bgType: selectedBgType,
 bgColor: document.getElementById('hexColor').value,
 fontFamily: document.getElementById('fontSelect').value,
 fontSize: document.getElementById('fontSize').value,
 textColor: document.getElementById('textColor').value,
 lineHeight: document.getElementById('lineHeight').value,
 letterSpacing: document.getElementById('letterSpacing').value,
 textAlign: document.getElementById('textAlign').value,
 boxBgColor: document.getElementById('boxBgColor').value,
 boxOpacity: document.getElementById('boxOpacity').value,
 boxWidth: document.getElementById('boxWidth').value,
 boxPadding: document.getElementById('boxPadding').value
 };
 }

 // 설정 적용하기
 function applySettings(settings) {
 if (!settings) return;

 // 배경 설정
 selectedBgType = settings.bgType</summary>
 <div>| 'color';
 toggleBgTab(selectedBgType);

 if (settings.bgColor && colorPicker) {
 colorPicker.color.hexString = settings.bgColor;
 document.getElementById('hexColor').value = settings.bgColor;
 }</div>
</details>

</body>
</html> 폰트 설정
 if (settings.fontFamily) {
 document.getElementById('fontSelect').value = settings.fontFamily;
 }

 if (settings.fontSize) {
 const fontSizeInput = document.getElementById('fontSize');
 fontSizeInput.value = settings.fontSize;
 document.getElementById('fontSizeValue').textContent = settings.fontSize + 'px';
 }

 <!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Toggle Content</title>
 <style>
 details {
 margin-bottom: 10px;
 }
 summary {
 cursor: pointer;
 font-size: 0.85em;
 }
 </style>
</head>
<body>

<details>
 <summary>텍스트 스타일
 if (settings.textColor) {
 document.getElementById('textColor').value = settings.textColor;
 }

 if (settings.lineHeight) {
 const lineHeightInput = document.getElementById('lineHeight');
 lineHeightInput.value = settings.lineHeight;
 document.getElementById('lineHeightValue').textContent = settings.lineHeight;
 }

 if (settings.letterSpacing) {
 const letterSpacingInput = document.getElementById('letterSpacing');
 letterSpacingInput.value = settings.letterSpacing;
 document.getElementById('letterSpacingValue').textContent = settings.letterSpacing + 'em';
 }

 if (settings.textAlign) {
 document.getElementById('textAlign').value = settings.textAlign;
 }

 // 텍스트 박스 설정
 if (settings.boxBgColor) {
 document.getElementById('boxBgColor').value = settings.boxBgColor;
 }

 if (settings.boxOpacity) {
 const boxOpacityInput = document.getElementById('boxOpacity');
 boxOpacityInput.value = settings.boxOpacity;
 document.getElementById('boxOpacityValue').textContent = settings.boxOpacity;
 }

 if (settings.boxWidth) {
 const boxWidthInput = document.getElementById('boxWidth');
 boxWidthInput.value = settings.boxWidth;
 document.getElementById('boxWidthValue').textContent = settings.boxWidth + '%';
 }

 if (settings.boxPadding) {
 const boxPaddingInput = document.getElementById('boxPadding');
 boxPaddingInput.value = settings.boxPadding;
 document.getElementById('boxPaddingValue').textContent = settings.boxPadding + 'px';
 }
 }

 // 프리셋 버튼 렌더링
 function renderPresetButtons() {
 const presets = loadPresets();
 const container = document.getElementById('presetButtonsContainer');
 container.innerHTML = '';

 // 6개의 버튼 슬롯 생성
 for (let i = 0; i < 6; i++) {
 const preset = i < presets.length ? presets[i] : null;
 const button = document.createElement('button');

 if (preset) {
 button.className = 'preset-button' + (preset.id === activePresetId ? ' active' : '');
 button.textContent = preset.name</summary>
 <div>| `프리셋 ${i + 1}`;
 button.dataset.presetId = preset.id;

 button.addEventListener('click', function() {
 applyPreset(preset.id);
 });
 } else {
 button.className = 'preset-button empty';
 button.textContent = `프리셋 ${i + 1}`;
 button.addEventListener('click', showSavePresetDialog);
 }

 container.appendChild(button);
 }
 }</div>
</details>

</body>
</html> 프리셋 관리자 렌더링
 function renderPresetManager() {
 const presets = loadPresets();
 const container = document.getElementById('presetManager');
 container.innerHTML = '';

 if (presets.length === 0) {
 const emptyMessage = document.createElement('div');
 emptyMessage.style.textAlign = 'center';
 emptyMessage.style.padding = '30px 0';
 emptyMessage.innerHTML = '<i class="fas fa-info-circle" style="font-size: 2rem; color: var(--border-color); margin-bottom: 15px;"></i><p>저장된 프리셋이 없습니다.</p>';
 container.appendChild(emptyMessage);
 return;
 }

 presets.forEach(preset => {
 const card = document.createElement('div');
 card.className = 'preset-card';

 const titleEl = document.createElement('div');
 titleEl.className = 'preset-card-title';
 titleEl.textContent = preset.name || '이름 없는 프리셋';

 const actionsEl = document.createElement('div');
 actionsEl.className = 'preset-card-actions';

 <!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Toggle Content</title>
 <style>
 details {
 margin-bottom: 10px;
 }
 summary {
 cursor: pointer;
 font-size: 0.85em;
 }
 </style>
</head>
<body>

<details>
 <summary>편집 버튼
 const editBtn = document.createElement('button');
 editBtn.className = 'preset-action-btn';
 editBtn.innerHTML = '<i class="fas fa-edit"></i>';
 editBtn.title = '프리셋 이름 변경';
 editBtn.addEventListener('click', () => editPresetName(preset.id));

 // 삭제 버튼
 const deleteBtn = document.createElement('button');
 deleteBtn.className = 'preset-action-btn delete';
 deleteBtn.innerHTML = '<i class="fas fa-trash"></i>';
 deleteBtn.title = '프리셋 삭제';
 deleteBtn.addEventListener('click', () => deletePreset(preset.id));

 actionsEl.appendChild(editBtn);
 actionsEl.appendChild(deleteBtn);

 card.appendChild(titleEl);
 card.appendChild(actionsEl);
 container.appendChild(card);
 });
 }

 // 프리셋 저장 다이얼로그 표시
 function showSavePresetDialog() {
 const presets = loadPresets();

 if (presets.length >= 6) {
 showNotification('최대 6개의 프리셋만 저장할 수 있습니다. 먼저 기존 프리셋을 삭제해주세요.', 'error');
 return;
 }

 const presetName = prompt('프리셋 이름을 입력하세요:', '');

 if (presetName === null) return; // 취소 버튼 클릭

 savePreset(presetName);
 }

 // 프리셋 저장
 function savePreset(name) {
 const settings = getCurrentSettings();
 settings.name = name</summary>
 <div>| `프리셋 ${Date.now()}`;

 const presets = loadPresets();
 presets.push(settings);
 savePresets(presets);

 renderPresetButtons();
 renderPresetManager();

 showNotification(`"${settings.name}" 프리셋이 저장되었습니다.`, 'success');
 }</div>
</details>

</body>
</html> 프리셋 적용
 function applyPreset(presetId) {
 const presets = loadPresets();
 const preset = presets.find(p => p.id === presetId);

 if (preset) {
 applySettings(preset);
 activePresetId = presetId;
 renderPresetButtons(); // 활성 상태 업데이트
 showNotification(`"${preset.name}" 프리셋이 적용되었습니다.`, 'success');
 }
 }

 // 프리셋 이름 변경
 function editPresetName(presetId) {
 const presets = loadPresets();
 const presetIndex = presets.findIndex(p => p.id === presetId);

 if (presetIndex === -1) return;

 const newName = prompt('새 프리셋 이름을 입력하세요:', presets[presetIndex].name);

 if (newName === null) return; // 취소 버튼 클릭

 presets[presetIndex].name = newName;
 savePresets(presets);

 renderPresetButtons();
 renderPresetManager();

 showNotification('프리셋 이름이 변경되었습니다.', 'success');
 }

 // 프리셋 삭제
 function deletePreset(presetId) {
 if (!confirm('정말 이 프리셋을 삭제하시겠습니까?')) return;

 const presets = loadPresets();
 const newPresets = presets.filter(p => p.id !== presetId);

 savePresets(newPresets);

 if (activePresetId === presetId) {
 activePresetId = null;
 }

 renderPresetButtons();
 renderPresetManager();

 showNotification('프리셋이 삭제되었습니다.', 'success');
 }

 /**
 * ===== 알림 메시지 =====
 */
 function showNotification(message, type = 'info') {
 const notification = document.getElementById('notification');
 notification.textContent = message;
 notification.className = `notification ${type}`;
 notification.classList.add('show');

 setTimeout(() => {
 notification.classList.remove('show');
 }, 3000);
 }

 /**
 * ===== 슬라이더 관련 함수 =====
 */
 // 슬라이더 이동 함수
 function moveSlider(direction) {
 const sliderContainer = document.querySelector('.slider-container');
 if (!sliderContainer) return;

 if (direction === 'next' && currentSlide < totalSlides - 1) {
 currentSlide++;
 } else if (direction === 'prev' && currentSlide > 0) {
 currentSlide--;
 }

 const scrollPosition = currentSlide * sliderContainer.clientWidth;
 sliderContainer.scrollTo({
 left: scrollPosition,
 behavior: 'smooth'
 });

 updateDots();
 }

 // 특정 슬라이드로 이동
 function goToSlide(index) {
 const sliderContainer = document.querySelector('.slider-container');
 if (!sliderContainer) return;

 currentSlide = index;
 const scrollPosition = currentSlide * sliderContainer.clientWidth;
 sliderContainer.scrollTo({
 left: scrollPosition,
 behavior: 'smooth'
 });

 updateDots();
 }

 // 슬라이더 닷 업데이트
 function updateDots() {
 const dots = document.querySelectorAll('.slider-dot');
 dots.forEach((dot, index) => {
 if (index === currentSlide) {
 dot.classList.add('active');
 } else {
 dot.classList.remove('active');
 }
 });
 }

 /**
 * ===== 마크다운 변환 함수 =====
 */
 function parseMarkdown(text) {
 // 마크다운 파싱
 const html = marked.parse(text);
 return html;
 }

 /**
 * ===== 이미지 생성 함수 =====
 */
 function generateImages() {
 const text = document.getElementById('userText').value;
 const textColor = document.getElementById('textColor').value;
 const bgColor = document.getElementById('hexColor').value;
 const boxBgColor = document.getElementById('boxBgColor').value;
 const charLimit = parseInt(document.getElementById('pageLength').value);
 const boxOpacity = document.getElementById('boxOpacity').value;
 const boxWidth = document.getElementById('boxWidth').value;
 const boxPadding = document.getElementById('boxPadding').value;
 const selectedFont = document.getElementById('fontSelect').value;
 const fontSize = document.getElementById('fontSize').value;
 const lineHeight = document.getElementById('lineHeight').value;
 const letterSpacing = document.getElementById('letterSpacing').value;
 const textAlign = document.getElementById('textAlign').value;

 if (!text) {
 showNotification('텍스트를 입력해주세요.', 'error');
 return;
 }

 // 미리보기 컨테이너 초기화
 const previewContainer = document.getElementById('previewContainer');
 previewContainer.innerHTML = '';

 // 슬라이더 컨테이너 생성
 const sliderContainer = document.createElement('div');
 sliderContainer.className = 'slider-container';

 // 슬라이더 컨트롤 생성
 const sliderControls = document.createElement('div');
 sliderControls.className = 'slider-controls';
 sliderControls.innerHTML = `
 <button class="slider-arrow prev" onclick="moveSlider('prev')">
 <i class="fas fa-chevron-left"></i>
 </button>
 <button class="slider-arrow next" onclick="moveSlider('next')">
 <i class="fas fa-chevron-right"></i>
 </button>
 `;

 // 텍스트 분할
 const textChunks = splitText(text, charLimit);
 totalSlides = textChunks.length;
 currentSlide = 0;

 // 각 텍스트 조각에 대해 이미지 생성
 textChunks.forEach((chunk, index) => {
 const outputContainer = document.createElement('div');
 outputContainer.className = 'output-container';

 const imageElement = document.createElement('div');
 imageElement.className = 'image-preview';

 // 배경 설정
 if (selectedBgType === 'color') {
 imageElement.style.backgroundColor = bgColor;
 } else if (selectedBgType === 'image' && headerImageUrl) {
 const headerImg = document.createElement('img');
 headerImg.src = headerImageUrl;
 headerImg.className = 'header-image';
 imageElement.appendChild(headerImg);
 }

 // 텍스트 박스 생성
 const textBox = document.createElement('div');
 textBox.className = 'text-box';
 textBox.style.width = boxWidth + '%';
 textBox.style.opacity = boxOpacity;
 textBox.style.padding = `${boxPadding}px`;
 textBox.style.fontFamily = selectedFont + ', serif';
 textBox.style.backgroundColor = boxBgColor;

 // 텍스트 영역 생성 (마크다운 지원)
 const textElement = document.createElement('div');
 textElement.className = 'preview-text';
 textElement.innerHTML = parseMarkdown(chunk);
 textElement.style.color = textColor;
 textElement.style.fontSize = fontSize + 'px';
 textElement.style.lineHeight = lineHeight;
 textElement.style.letterSpacing = letterSpacing + 'em';
 textElement.style.textAlign = textAlign;

 // 요소 조합
 textBox.appendChild(textElement);
 imageElement.appendChild(textBox);
 outputContainer.appendChild(imageElement);

 // 다운로드 버튼 추가
 const downloadBtn = document.createElement('button');
 downloadBtn.className = 'button';
 downloadBtn.style.marginTop = '15px';
 downloadBtn.innerHTML = '<i class="fas fa-download"></i> 이미지 다운로드';
 downloadBtn.onclick = function() {
 downloadImage(imageElement, index + 1);
 };

 outputContainer.appendChild(downloadBtn);
 sliderContainer.appendChild(outputContainer);
 });

 // 슬라이더 닷 생성
 const dotsContainer = document.createElement('div');
 dotsContainer.className = 'slider-dots';

 for (let i = 0; i < totalSlides; i++) {
 const dot = document.createElement('div');
 dot.className = i === 0 ? 'slider-dot active' : 'slider-dot';
 dot.onclick = function() {
 goToSlide(i);
 };
 dotsContainer.appendChild(dot);
 }

 // 컨테이너에 요소 추가
 previewContainer.appendChild(sliderControls);
 previewContainer.appendChild(sliderContainer);
 previewContainer.appendChild(dotsContainer);

 // 슬라이더 크기 조정 이벤트 추가
 window.addEventListener('resize', function() {
 goToSlide(currentSlide);
 });

 // 첫 번째 탭으로 이동
 document.querySelector('.main-tab[data-tab="tab1"]').click();

 showNotification(`${totalSlides}개의 이미지가 생성되었습니다.`, 'success');
 }

 /**
 * ===== 텍스트 분할 함수 =====
 */
 function splitText(text, charLimit) {
 const chunks = [];
 const paragraphs = text.split('\n');
 let currentChunk = '';

 paragraphs.forEach(paragraph => {
 if (currentChunk.length + paragraph.length + 1 <= charLimit) {
 currentChunk += (currentChunk ? '\n' : '') + paragraph;
 } else {
 // 현재 문단이 너무 길면 추가 분할
 if (currentChunk) {
 chunks.push(currentChunk);
 currentChunk = '';
 }

 if (paragraph.length <= charLimit) {
 currentChunk = paragraph;
 } else {
 // 긴 문단 분할
 let remainingText = paragraph;
 while (remainingText.length > 0) {
 let chunkSize = Math.min(charLimit, remainingText.length);
 // 단어 경계에서 잘리지 않도록 조정
 if (chunkSize < remainingText.length) {
 // 마지막 공백 위치 찾기
 const lastSpacePos = remainingText.substring(0, chunkSize).lastIndexOf(' ');
 if (lastSpacePos > charLimit / 2) { // 적어도 절반 이상 채웠는지 확인
 chunkSize = lastSpacePos;
 }
 }

 chunks.push(remainingText.substring(0, chunkSize));
 remainingText = remainingText.substring(chunkSize).trim();

 if (remainingText && remainingText.length <= charLimit) {
 currentChunk = remainingText;
 remainingText = '';
 }
 }
 }
 }
 });

 if (currentChunk) {
 chunks.push(currentChunk);
 }

 return chunks;
 }

 /**
 * ===== 이미지 다운로드 함수 =====
 */
 function downloadImage(element, pageNum) {
 html2canvas(element, {
 scale: 2, // 고해상도
 backgroundColor: null,
 useCORS: true, // 외부 이미지 허용
 allowTaint: true // 외부 이미지 허용
 }).then(canvas => {
 const link = document.createElement('a');
 link.download = `text-image-${String(pageNum).padStart(2, '0')}.png`;
 link.href = canvas.toDataURL('image/png');
 link.click();
 });
 }
 </script>
</body>
</html>
